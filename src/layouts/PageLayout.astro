---
import EmailIcon from "~/components/icons/email.astro";
import GitHubIcon from "~/components/icons/github.astro";
import "~/index.css";

const currentPath = Astro.url.pathname;
---

<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1" />
		<slot name="meta" />
		<link rel="me" href="https://github.com/cschmatzler" />
		<link rel="sitemap" href="/sitemap-index.xml" />
		<link rel="alternate" type="application/rss+xml" title=".rss" href="/rss.xml" />
		<link rel="preconnect" href="https://fonts.bunny.net" />
		<link href="https://fonts.bunny.net/css2?family=Manrope:wght@200;300;400;500;600;700;800&display=swap" rel="stylesheet" />
		<link href="https://fonts.bunny.net/css2?family=Fira+Code:wght@400;600&display=swap" rel="stylesheet" />
	</head>

	<body class="latte bg-ctp-base text-ctp-text mx-auto flex max-w-[850px] flex-col px-4 py-8">
		<header class="flex flex-col">
			<div class="flex">
				<nav class="flex-grow">
					<section>
						<ul class="flex space-x-4">
							<li>
								<a
									href="/"
									class={currentPath === "/"
										? "relative pt-1.5 before:absolute before:top-0 before:left-0 before:right-0 before:h-0.5 before:bg-ctp-lavender before:rounded-full"
										: ""}>Home</a>
							</li>
							<li>
								<a
									href="/essays"
									class={currentPath.startsWith("/essays")
										? "relative pt-1.5 before:absolute before:top-0 before:left-0 before:right-0 before:h-0.5 before:bg-ctp-lavender before:rounded-full"
										: ""}>Essays</a>
							</li>
							<li>
								<a
									href="/thoughts"
									class={currentPath.startsWith("/thoughts")
										? "relative pt-1.5 before:absolute before:top-0 before:left-0 before:right-0 before:h-0.5 before:bg-ctp-lavender before:rounded-full"
										: ""}>Thoughts</a>
							</li>
							<!-- <li><a href="/now">Now</a></li> -->
						</ul>
					</section>
				</nav>
				<div class="space-x-2">
					<a href="mailto:christoph@schmatzler.com" aria-label="Email me">
						<EmailIcon title="Email" />
					</a>
					<a href="https://github.com/cschmatzler" aria-label="me on GitHub">
						<GitHubIcon title="GitHub" />
					</a>
				</div>
			</div>
			<div class="from-ctp-pink to-ctp-yellow h-[2.5px] w-full rounded-full bg-gradient-to-br"></div>
		</header>

		<main id="main" class="mt-4 pb-8">
			<slot name="main" />
		</main>
	</body>
</html>
